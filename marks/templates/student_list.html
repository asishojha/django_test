{% extends 'base.html' %}
{% load static %}
 
{% block content %}

<br><br><br> 
<div >
	<div>
	<br>
		<p class="h2">
		   {{ userx }} <span> : {{userx.first_name}}</span><br>
		</p>   
		   <table class="table table-striped mb-0">
  				<thead>
   					 <tr>
     					<th scope="col">Reg Male</th>
     					<th scope="col">Reg Female</th>
      					<th scope="col">Total</th>
      					<th scope="col">Marks Entry Left</th>
						<th scope="col">Marks Entry Completed</th>  
    				</tr>
  				</thead>
  				<tbody>
    				<tr>
      					<th scope="row">{{regm}}</th>
      					<td>{{regf}}</td>
      					<td>{{tot}}</td>
      					<td>{{left}}</td>
						<td>{{done}}</td>  
    				</tr>
				</tbody>
			<table>
	</div>
</div>		
<div>
{% if first_student %}
		<div class="text-center">
			<a href="{{first_student.get_absolute_url }}" class="btn btn-success my-1">Start Entering Marks</a>
		</div>
{% endif %}
<table class="table table-striped table-dark">
  <thead>
    <tr>
      <th scope="col">Roll-Number</th>
      <th scope="col">Name</th>
      <th scope="col">Father's Name</th>
      <th scope="col">Registration No.</th>
	  <th scope="col">1st Language</th>
	  <th scope="col">2nd Language</th>
	  <th scope="col">Opt. Elective</th>
	  <th scope="col">Is Marks Filled</th>
    </tr>
  </thead>
  <tbody>
  
  {% for s in users %}
    {% comment %} <div class="list-group-item{% if s.complete %} bg-success text-white border-light{% endif %}"> {% endcomment %}
    <tr>
      <th scope="row"><a href="{{ s.get_absolute_url }}">{{s.rollno}}</a></th>
      <td>{{s.name}}</td>
      <td>{{s.fname}}</td>
      <td>{{s.regno}}</td>
	  <td>{{s.sub1}}</td>
      <td>{{s.sub2}}</td>
      <td>{{s.sub3}}</td>
	  {% if s.fl|length < 1  %}
	  <td>No</td>
	  {% else %}
	  <td>Yes</td>
	  {% endif %}
    </tr>
	{% comment %} </div> {% endcomment %}
	{% endfor %}
	
  </tbody>
</table>
<div class="container p-4">
        <div class="pagination justify-content-center">
            <span class="step-links">
			{% if users.has_previous %}
                  <a href="?page=1" class="bg-success text-white" >&laquo; first</a>
                  <a href="?page={{ users.previous_page_number }} " class="bg-danger text-white">previous</a>
              {% endif %}

                <span class="current">
                    Page {{ users.number }} of {{ users.paginator.num_pages }}
                </span>

              {% if users.has_next %}
                  <a href="?page={{ users.next_page_number }}" class="bg-danger text-white">next</a>
                  <a href="?page={{ users.paginator.num_pages }}" class="bg-success text-white">last &raquo;</a>
              {% endif %}  

</span>
</div>
</div>
</div>

{% endblock %}
{% block script %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
	$('form').submit(function(e){
		$(':disabled').each(function(e){
			$(this).removeAttr('disabled');
		});
	});
</script>
{% endblock %}